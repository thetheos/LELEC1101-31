Version 4
SHEET 1 2248 1124
WIRE 64 -64 48 -64
WIRE 176 -64 128 -64
WIRE 48 16 48 -64
WIRE 48 16 32 16
WIRE 64 16 48 16
WIRE 176 32 176 -64
WIRE 176 32 128 32
WIRE 256 32 176 32
WIRE 384 32 336 32
WIRE 576 32 480 32
WIRE 688 32 656 32
WIRE 64 48 48 48
WIRE 1088 64 1040 64
WIRE 1200 64 1168 64
WIRE 1744 112 1712 112
WIRE 1888 112 1824 112
WIRE 384 128 384 32
WIRE 480 128 480 32
WIRE 480 128 384 128
WIRE 576 128 480 128
WIRE 688 144 688 32
WIRE 688 144 640 144
WIRE 896 144 688 144
WIRE 1040 144 1040 64
WIRE 1040 144 960 144
WIRE 576 160 512 160
WIRE 1040 192 1040 144
WIRE 1088 192 1040 192
WIRE 1520 192 1488 192
WIRE 1648 192 1600 192
WIRE 1200 208 1200 64
WIRE 1200 208 1152 208
WIRE 1488 208 1488 192
WIRE 1488 208 1200 208
WIRE 1648 208 1648 192
WIRE 1712 208 1712 112
WIRE 1712 208 1648 208
WIRE 1744 208 1712 208
WIRE 1088 224 1072 224
WIRE 1888 224 1888 112
WIRE 1888 224 1808 224
WIRE 1968 224 1888 224
WIRE 2048 224 1968 224
WIRE 2192 224 2128 224
WIRE 1744 240 1728 240
WIRE 64 256 48 256
WIRE 176 256 128 256
WIRE 1648 320 1648 208
WIRE 1648 320 1632 320
WIRE 48 336 48 256
WIRE 48 336 32 336
WIRE 64 336 48 336
WIRE 176 352 176 256
WIRE 176 352 128 352
WIRE 256 352 176 352
WIRE 384 352 384 128
WIRE 384 352 336 352
WIRE 64 368 48 368
WIRE 1312 400 1312 352
WIRE 1648 432 1648 320
WIRE 1648 432 1632 432
WIRE 144 704 112 704
WIRE 272 704 224 704
WIRE -176 800 -288 800
WIRE 112 800 112 704
WIRE 112 800 -32 800
WIRE 144 800 112 800
WIRE -32 816 -32 800
WIRE -32 816 -128 816
WIRE 272 816 272 704
WIRE 272 816 208 816
WIRE 144 832 80 832
WIRE 80 880 80 832
WIRE 80 880 32 880
WIRE -288 896 -288 800
WIRE -288 896 -336 896
WIRE 32 912 32 880
WIRE 80 960 80 880
WIRE 144 960 80 960
WIRE -288 976 -288 896
WIRE -256 976 -288 976
WIRE 304 976 208 976
WIRE 80 992 -208 992
WIRE 144 992 80 992
WIRE 80 1040 80 992
WIRE -336 1120 -336 896
WIRE 304 1120 304 976
WIRE 304 1120 -336 1120
FLAG 48 48 0
FLAG 48 368 0
FLAG 512 160 0
FLAG 1072 224 0
FLAG 1728 240 0
FLAG -80 -240 0
FLAG -176 -240 0
FLAG -288 -240 0
FLAG -288 -320 Vcc
FLAG 96 0 Vcc
FLAG 96 320 Vcc
FLAG 608 112 Vcc
FLAG 1120 176 Vcc
FLAG 1776 192 Vcc
FLAG -176 -320 Vee
FLAG 96 64 Vee
FLAG 96 384 Vee
FLAG 608 176 Vee
FLAG 1120 240 Vee
FLAG 1776 256 Vee
FLAG -48 16 V1
FLAG -80 -320 V1
FLAG 1552 320 V1
FLAG -48 336 V2
FLAG 1552 432 V2
FLAG 1312 400 0
FLAG 176 944 Vee
FLAG 176 848 Vee
FLAG 176 784 Vcc
FLAG 176 1008 Vcc
FLAG 32 912 0
FLAG 0 1040 V1
FLAG -128 720 V2
FLAG 32 -240 0
FLAG 224 -240 0
FLAG 32 -320 V2
FLAG 224 -320 Vref
FLAG -208 896 Vref
FLAG 1968 304 0
FLAG 2192 288 0
SYMBOL Opamps\\opamp2 96 -32 R0
SYMATTR InstName U1
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 96 288 R0
SYMATTR InstName U2
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 608 80 R0
SYMATTR InstName U3
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 1120 144 R0
SYMATTR InstName U4
SYMATTR Value TL084
SYMBOL res 48 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 48 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 352 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 352 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL diode 64 272 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 64 -48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 896 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL res 672 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 1184 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 1616 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 1648 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 1648 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL Opamps\\opamp2 1776 160 R0
SYMATTR InstName U5
SYMATTR Value TL084
SYMBOL res 1840 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL voltage -288 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -176 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value -15
SYMBOL voltage -80 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(5 0.5 1000)
SYMBOL voltage 32 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(5 0.5 1000 0 0 170)
SYMBOL res 1296 256 R0
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL Opamps\\opamp2 176 752 R0
SYMATTR InstName U6
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 176 1040 M180
SYMATTR InstName U7
SYMATTR Value TL084
SYMBOL res 96 1024 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL res 240 688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10
SYMBOL nmos -256 896 R0
WINDOW 3 57 78 Left 2
SYMATTR InstName M1
SYMBOL nmos -176 720 R0
SYMATTR InstName M2
SYMBOL voltage 224 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 1
SYMBOL res 1952 208 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL cap 2176 224 R0
SYMATTR InstName C1
SYMATTR Value 16µ
SYMBOL res 2144 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 1k
TEXT 1088 -264 Left 2 !.include TL084.lib
TEXT -288 752 Left 2 !.tran 200ms
