Version 4
SHEET 1 2248 1124
WIRE -96 -32 -112 -32
WIRE 16 -32 -32 -32
WIRE -112 48 -112 -32
WIRE -112 48 -128 48
WIRE -96 48 -112 48
WIRE 16 64 16 -32
WIRE 16 64 -32 64
WIRE 96 64 16 64
WIRE 224 64 176 64
WIRE 416 64 320 64
WIRE 528 64 496 64
WIRE -96 80 -112 80
WIRE 928 96 880 96
WIRE 1040 96 1008 96
WIRE 1584 144 1552 144
WIRE 1728 144 1664 144
WIRE 224 160 224 64
WIRE 320 160 320 64
WIRE 320 160 224 160
WIRE 416 160 320 160
WIRE 528 176 528 64
WIRE 528 176 480 176
WIRE 736 176 528 176
WIRE 880 176 880 96
WIRE 880 176 800 176
WIRE 416 192 352 192
WIRE 880 224 880 176
WIRE 928 224 880 224
WIRE 1360 224 1328 224
WIRE 1488 224 1440 224
WIRE 1040 240 1040 96
WIRE 1040 240 992 240
WIRE 1328 240 1328 224
WIRE 1328 240 1040 240
WIRE 1488 240 1488 224
WIRE 1552 240 1552 144
WIRE 1552 240 1488 240
WIRE 1584 240 1552 240
WIRE 928 256 912 256
WIRE 1728 256 1728 144
WIRE 1728 256 1648 256
WIRE 1808 256 1728 256
WIRE 1888 256 1808 256
WIRE 2032 256 1968 256
WIRE 1584 272 1568 272
WIRE -96 288 -112 288
WIRE 16 288 -32 288
WIRE 1488 352 1488 240
WIRE 1488 352 1472 352
WIRE -112 368 -112 288
WIRE -112 368 -128 368
WIRE -96 368 -112 368
WIRE 16 384 16 288
WIRE 16 384 -32 384
WIRE 96 384 16 384
WIRE 224 384 224 160
WIRE 224 384 176 384
WIRE -96 400 -112 400
WIRE 1152 432 1152 384
WIRE 1488 464 1488 352
WIRE 1488 464 1472 464
WIRE 144 704 112 704
WIRE 272 704 224 704
WIRE -176 800 -288 800
WIRE 112 800 112 704
WIRE 112 800 -32 800
WIRE 144 800 112 800
WIRE -32 816 -32 800
WIRE -32 816 -128 816
WIRE 272 816 272 704
WIRE 272 816 208 816
WIRE 144 832 80 832
WIRE 80 880 80 832
WIRE 80 880 32 880
WIRE -288 896 -288 800
WIRE -288 896 -336 896
WIRE 32 912 32 880
WIRE 80 960 80 880
WIRE 144 960 80 960
WIRE -288 976 -288 896
WIRE -256 976 -288 976
WIRE 304 976 208 976
WIRE 80 992 -208 992
WIRE 144 992 80 992
WIRE 80 1040 80 992
WIRE -336 1120 -336 896
WIRE 304 1120 304 976
WIRE 304 1120 -336 1120
FLAG -112 80 0
FLAG -112 400 0
FLAG 352 192 0
FLAG 912 256 0
FLAG 1568 272 0
FLAG -80 -240 0
FLAG -176 -240 0
FLAG -288 -240 0
FLAG -288 -320 Vcc
FLAG -64 32 Vcc
FLAG -64 352 Vcc
FLAG 448 144 Vcc
FLAG 960 208 Vcc
FLAG 1616 224 Vcc
FLAG -176 -320 Vee
FLAG -64 96 Vee
FLAG -64 416 Vee
FLAG 448 208 Vee
FLAG 960 272 Vee
FLAG 1616 288 Vee
FLAG -208 48 V1
FLAG -80 -320 V1
FLAG 1392 352 V1
FLAG -208 368 V2
FLAG 1392 464 V2
FLAG 1152 432 0
FLAG 176 944 Vee
FLAG 176 848 Vee
FLAG 176 784 Vcc
FLAG 176 1008 Vcc
FLAG 32 912 0
FLAG 0 1040 V1
FLAG -128 720 V2
FLAG 32 -240 0
FLAG 224 -240 0
FLAG 32 -320 V2
FLAG 224 -320 Vref
FLAG -208 896 Vref
FLAG 1808 336 0
FLAG 2032 320 0
SYMBOL Opamps\\opamp2 -64 0 R0
SYMATTR InstName U1
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 -64 320 R0
SYMATTR InstName U2
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 448 112 R0
SYMATTR InstName U3
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 960 176 R0
SYMATTR InstName U4
SYMATTR Value TL084
SYMBOL res -112 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res -112 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 192 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 192 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL diode -96 304 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode -96 -16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 736 192 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL res 512 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 1024 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 1456 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 1488 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 1488 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL Opamps\\opamp2 1616 192 R0
SYMATTR InstName U5
SYMATTR Value TL084
SYMBOL res 1680 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL voltage -288 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -176 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value -15
SYMBOL voltage -80 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(5 0.5 1000)
SYMBOL voltage 32 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(5 0.5 10000 0 0 90)
SYMBOL res 1136 288 R0
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL Opamps\\opamp2 176 752 R0
SYMATTR InstName U6
SYMATTR Value TL084
SYMBOL Opamps\\opamp2 176 1040 M180
SYMATTR InstName U7
SYMATTR Value TL084
SYMBOL res 96 1024 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL res 240 688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10
SYMBOL nmos -256 896 R0
WINDOW 3 57 78 Left 2
SYMATTR InstName M1
SYMBOL nmos -176 720 R0
SYMATTR InstName M2
SYMBOL voltage 224 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 1
SYMBOL res 1792 240 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL cap 2016 256 R0
SYMATTR InstName C1
SYMATTR Value 16µ
SYMBOL res 1984 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 1k
TEXT 1088 -264 Left 2 !.include TL084.lib
TEXT -288 752 Left 2 !.tran 200ms
